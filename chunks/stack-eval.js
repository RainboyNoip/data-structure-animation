webpackJsonpdsa([1],{10:function(t,e,n){t.exports='<span class="comment">#include &lt;stdio.h></span>\n<span class="comment">#include "./stack.h"</span>\n\nvoid init(Stack *s) {\n    s->top = <span class="number">0</span>;\n};\n\nint isFull(Stack *s) {\n    <span class="keyword">if</span> (s->top == N) {\n        <span class="keyword">return</span> <span class="number">1</span>;\n    } <span class="keyword">else</span> {\n        <span class="keyword">return</span> <span class="number">0</span>;\n    }\n};\n\nint isEmpty(Stack *s) {\n    <span class="keyword">if</span> (s->top == <span class="number">0</span>) {\n        <span class="keyword">return</span> <span class="number">1</span>;\n    } <span class="keyword">else</span> {\n        <span class="keyword">return</span> <span class="number">0</span>;\n    }\n};\n\nvoid push(Stack *s, int val) {\n    <span class="keyword">if</span> (isFull(s) == <span class="number">1</span>) {\n        printf(<span class="string">"stack full.\\n"</span>);\n    } <span class="keyword">else</span> {\n        s->data[s->top++] = val;\n    }\n};\n\nvoid pop(Stack *s) {\n    <span class="keyword">if</span> (isEmpty(s) == <span class="number">1</span>) {\n        printf(<span class="string">"stack empty.\\n"</span>);\n    } <span class="keyword">else</span> {\n        s->top = s->top - <span class="number">1</span>;\n    }\n};\n\nint peak(Stack *s) {\n    <span class="keyword">if</span> (isEmpty(s) == <span class="number">1</span>) {\n        printf(<span class="string">"stack empty.\\n"</span>);\n        <span class="keyword">return</span> -<span class="number">1</span>;\n    } <span class="keyword">else</span> {\n        <span class="keyword">return</span> s->data[s->top - <span class="number">1</span>];\n    }\n};'},11:function(t,e,n){t.exports='<span class="comment">#define N 5</span>\n\ntypedef struct {\n    int top;\n    int data[N];\n} Stack;\n\nvoid init(Stack *s);\nint isFull(Stack *s);\nint isEmpty(Stack *s);\nvoid push(Stack *s, int val);\nvoid pop(Stack *s);\nint peak(Stack *s);'},19:function(t,e,n){function r(t){currentStatus.stack.push(t)}function a(t){currentStatus.iter[0]=t,void 0===t&&(currentStatus.iter=[])}function s(t){currentStatus.table.push(t),0===t&&(currentStatus.table=[])}function i(t,e){void 0===t?currentStatus.peak=[]:(void 0===currentStatus.peak[t]&&(currentStatus.peak[t]=[]),currentStatus.peak[t].push(e))}function o(t,e,n){1===e&&(lastStatus=l(currentStatus)),u.push({status:lastStatus,line:t,animation:n,id:f}),f++}function c(){o(u[u.length-1].line,1)}var p,l=n(4),u=[],f=0,h=[],d=[],g=function(t,e){return o(5),"+"===t||"-"===t?(s(t),o(6,1),"+"==e||"-"==e||")"===e?(s(e),o(7,1),1):(s(e),o(9,1),-1)):(o(11,1),"*"===t||"/"===t?(s(t),o(12,1),"("===e?(s(e),o(13,1),-1):(s(e),o(15,1),1)):(o(17,1),"("===t?(s(t),o(18,1),")"===e?(s(e),o(19,1),0):(s(e),o(21,1),-1)):(o(24,1),-1)))},m=function(t,e){var n,r,a;switch(o(31,0),n=t[t.length-1],i(0,n),o(32,1),t.pop(),o(33,1),r=t[t.length-1],i(0,r),o(34,1),t.pop(),o(35,1),a=e[e.length-1],i(1,a),o(36,1),e.pop(),o(37,1),a){case"+":o(38),t.push(n+r);break;case"-":o(39),t.push(r-n);break;case"*":o(40),t.push(n*r);break;case"/":o(41),t.push(Math.floor(r/n));break;default:o(42)}i()},y=function(t){var e;for(o(48),h=[],r(h),o(49,1),o(50),d=[],r(d),o(51,1),e=0;o(52,1),a(e),0!=t.length;t=t.slice(1),++e)if(o(53,1),"0"<=t[0]&&t[0]<="9")o(54),h.push(t[0]-"0");else{for(;o(56,1),0!==d.length&&1===(p=g(d[d.length-1],t[0]),o(56,1),s(0),p);)o(57,1),m(h,d);o(59,1),")"===t[0]?(o(60),d.pop()):(o(62),d.push(t[0]))}for(;o(66,1),0!==d.length;)o(67,1),m(h,d);return o(69),i(0,h[h.length-1]),h[h.length-1]};currentStatus={},lastStatus={},t.exports={getInitialDescriptions:function(){return this.run("eval","1*(2+3)")},initialize:function(){return u=[],f=0,currentStatus={stack:[],iter:[],peak:[],table:[]},lastStatus=l(currentStatus),this},eval:function(t){y(t)},run:function(t,e){return this.initialize().eval(e),c(),{frames:u,others:{string:(e.trim()+"=").split("")}}}}},36:function(t,e,n){var r=n(1),a=n(2);t.exports=r.createClass({displayName:"module.exports",getInitialState:function(){return{text:"1*(2+3)"}},render:function(){return r.createElement("div",{className:"list"},r.createElement("input",{onChange:this._onChange,value:this.state.text,placeholder:"表达式"}),r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onClick.bind(this,"eval"),value:"计算"}))},_onChange:function(t){this.setState({text:t.target.value})},_onClick:function(t){a.runDemo(t,this.state.text)}})},54:function(t,e,n){t.exports='CC=gcc\nCFLAGS=-c -Wall\nLDFLAGS=\nSOURCES=main.c stack-<span class="keyword">eval</span>.c ../stack/stack.c\nOBJECTS=$(SOURCES:.cpp=.o)\nEXECUTABLE=a.out\n\nall: $(SOURCES) $(EXECUTABLE)\n\n$(EXECUTABLE): $(OBJECTS)\n    $(CC) $(LDFLAGS) $(OBJECTS) -o $@\n\n.cpp.o:\n    $(CC) $(CFLAGS) $&lt; -o $@\n\nclean:\n    rm -rf *.o a.out'},55:function(t,e,n){t.exports='<span class="comment">#include &lt;stdio.h></span>\n<span class="comment">#include "../stack/stack.h"</span>\n\nint prior(char instack, char coming) {\n    <span class="keyword">if</span> (instack == <span class="string">\'+\'</span> || instack == <span class="string">\'-\'</span>) {\n        <span class="keyword">if</span> (coming == <span class="string">\'+\'</span> || coming == <span class="string">\'-\'</span> || coming == <span class="string">\')\'</span>) {\n            <span class="keyword">return</span> <span class="number">1</span>;\n        } <span class="keyword">else</span> {\n            <span class="keyword">return</span> -<span class="number">1</span>;\n        }\n    } <span class="keyword">else</span> <span class="keyword">if</span> (instack == <span class="string">\'*\'</span> || instack == <span class="string">\'/\'</span>) {\n        <span class="keyword">if</span> (coming == <span class="string">\'(\'</span>) {\n            <span class="keyword">return</span> -<span class="number">1</span>;\n        } <span class="keyword">else</span> {\n            <span class="keyword">return</span> <span class="number">1</span>;\n        }\n    } <span class="keyword">else</span> <span class="keyword">if</span> (instack == <span class="string">\'(\'</span>) {\n        <span class="keyword">if</span> (coming == <span class="string">\')\'</span>) {\n            <span class="keyword">return</span> <span class="number">0</span>;\n        } <span class="keyword">else</span> {\n            <span class="keyword">return</span> -<span class="number">1</span>;\n        }\n    }\n    <span class="keyword">return</span> -<span class="number">1</span>;\n};\n\nvoid poppush(Stack *nums, Stack *ops) {\n    int a;\n    int b;\n    int op;\n    a = peak(nums);\n    pop(nums);\n    b = peak(nums);\n    pop(nums);\n    op = peak(ops);\n    pop(ops);\n    <span class="keyword">switch</span>(op) {\n        <span class="keyword">case</span> <span class="string">\'+\'</span>: push(nums, a+b); <span class="keyword">break</span>;\n        <span class="keyword">case</span> <span class="string">\'-\'</span>: push(nums, b-a); <span class="keyword">break</span>;\n        <span class="keyword">case</span> <span class="string">\'*\'</span>: push(nums, a*b); <span class="keyword">break</span>;\n        <span class="keyword">case</span> <span class="string">\'/\'</span>: push(nums, b/a); <span class="keyword">break</span>;\n        <span class="keyword">default</span>: <span class="keyword">break</span>;\n    }\n};\n\nint <span class="keyword">eval</span>(char *str) {\n    int i;\n    Stack nums;\n    init(&amp;nums);\n    Stack ops;\n    init(&amp;ops);\n    <span class="keyword">for</span> (; *str != <span class="string">\'\\0\'</span>; str++) {\n        <span class="keyword">if</span> (<span class="string">\'0\'</span> &lt;= *str &amp;&amp; *str &lt;= <span class="string">\'9\'</span>) {\n            push(&amp;nums,  *str - <span class="string">\'0\'</span>);\n        } <span class="keyword">else</span> {\n            <span class="keyword">while</span> (isEmpty(&amp;ops) == <span class="number">0</span> &amp;&amp; prior(peak(&amp;ops), *str) == <span class="number">1</span>) {\n                poppush(&amp;nums, &amp;ops);\n            }\n            <span class="keyword">if</span> (*str == <span class="string">\')\'</span>) {\n                pop(&amp;ops);\n            } <span class="keyword">else</span> {\n                push(&amp;ops, *str);\n            }\n        }\n    }\n    <span class="keyword">while</span> (isEmpty(&amp;ops) == <span class="number">0</span>) {\n        poppush(&amp;nums, &amp;ops);\n    }\n    <span class="keyword">return</span> peak(&amp;nums);\n};'},56:function(t,e,n){t.exports='int <span class="keyword">eval</span>(char *expr);'},57:function(t,e,n){t.exports='<span class="comment">#include &lt;stdio.h></span>\n<span class="comment">#include "./stack-eval.h"</span>\n\nint main(int argc, char <span class="keyword">const</span> *argv[]) {\n  freopen(<span class="string">"in"</span>, <span class="string">"r"</span>, stdin);\n  char s[<span class="number">10</span>];\n  scanf(<span class="string">"%s"</span>, s);\n  printf(<span class="string">"%s = %d\\n"</span>, s, <span class="keyword">eval</span>(s));\n  <span class="keyword">return</span> <span class="number">0</span>;\n}'},70:function(t,e,n){function r(){var t=v.string.map(function(t,e){var n=m.iter[0]||0;return{v:t,i:e-n}});h.selectAll("rect.char").data(t).enter().append("rect").attr("class","char").attr("width","100").attr("height","50").transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i,0]})),h.selectAll("rect.char").data(t).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i,0]})),h.selectAll("rect.char").data(t).exit().transition().duration(y).remove(),d.selectAll("text.char").data(t).enter().append("text").attr("class","char").attr("transform",x().translate(function(t,e){return[50,30]})).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i+50,30]})).text(function(t){return t.v}),d.selectAll("text.char").data(t).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i+50,30]})).text(function(t){return t.v}),d.selectAll("text.char").data(t).exit().transition().duration(y).remove()}function a(){var t=w.range(m.stack.length);h.selectAll("rect.stack").data(t).enter().append("rect").attr("class","stack").attr("width",100).attr("height",250).attr("transform",x().translate(function(t,e){return[100*e,0]})).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*e,150]})),h.selectAll("rect.stack").data(t).exit().transition().duration(y).remove()}function s(){h.selectAll("rect.stack-top").data(m.stack).enter().append("rect").attr("class","stack-top").attr("width",100).attr("height",50).attr("transform",x().translate(function(t,e){return[100*e,0]})).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*e,150+50*(5-t.length-1)]})),h.selectAll("rect.stack-top").data(m.stack).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*e,150+50*(5-t.length-1)]})),h.selectAll("rect.stack-top").data(m.stack).exit().transition().duration(y).remove(),d.selectAll("text.stack-top").data(m.stack).enter().append("text").attr("class","stack-top").attr("transform",x().translate(function(t,e){return[100*e+50,30]})).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*e+50,150+50*(5-t.length-1)+25+5]})).text(function(){return"栈顶"}),d.selectAll("text.stack-top").data(m.stack).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*e+50,150+50*(5-t.length-1)+25+5]})),d.selectAll("text.stack-top").data(m.stack).exit().transition().duration(y).remove()}function i(){var t=m.stack.reduce(function(t,e,n){return t.concat(e.map(function(t,e){return{v:t,i:n,j:e}}))},[]),e=function(t){return(t.i?"ops":"nums")+t.j};h.selectAll("rect.item").data(t,e).enter().append("rect").attr("class","item").attr("width",100).attr("height",50).attr("transform",x().translate(function(t){return[100*t.i,100]})).transition().duration(y).attr("transform",x().translate(function(t){return[100*t.i,150+50*(5-t.j-1)]})),h.selectAll("rect.item").data(t,e).transition().duration(y).attr("transform",x().translate(function(t){return[100*t.i,150+50*(5-t.j-1)]})),h.selectAll("rect.item").data(t,e).exit().transition().duration(y).remove(),d.selectAll("text.item").data(t,e).enter().append("text").attr("class","item").attr("transform",x().translate(function(t){return[100*t.i+50,130]})).transition().duration(y).attr("transform",x().translate(function(t){return[100*t.i+50,150+50*(5-t.j-1)+25+5]})).text(function(t){return t.v}),d.selectAll("text.item").data(t,e).transition().duration(y).attr("transform",x().translate(function(t){return[100*t.i+50,150+50*(5-t.j-1)+25+5]})).text(function(t){return t.v}),d.selectAll("text.item").data(t,e).exit().transition().duration(y).remove()}function o(){var t=m.peak.reduce(function(t,e,n){return t.concat(e.map(function(t,e){return{v:t,i:n,j:e}}))},[]);h.selectAll("rect.peak").data(t).enter().append("rect").attr("class","peak").attr("width",100).attr("height",50).attr("transform",x().translate(function(t,e){m.stack[t.i].length-1;return[100*t.i,150+50*(5-t.j-1)]})).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i,50+50*(2-t.j-1)]})),h.selectAll("rect.peak").data(t).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i,50+50*(2-t.j-1)]})),h.selectAll("rect.peak").data(t).exit().transition().duration(y).remove(),d.selectAll("text.peak").data(t).enter().append("text").attr("class","peak").attr("transform",x().translate(function(t,e){m.stack[t.i].length-1;return[100*t.i+50,150+50*(5-t.j-1)+25+5]})).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i+50,50+50*(2-t.j-1)+25+5]})).text(function(t){return t.v}),d.selectAll("text.peak").data(t).transition().duration(y).attr("transform",x().translate(function(t,e){return[100*t.i+50,50+50*(2-t.j-1)+25+5]})).text(function(t){return t.v}),d.selectAll("text.peak").data(t).exit().transition().duration(y).remove()}function c(){g.selectAll("rect.char").data(m.iter).enter().append("rect").attr("class","char").attr("width",100).attr("height",50).transition().duration(y).attr("transform",x().translate(function(t){return[0,0]})),g.selectAll("rect.char").data(m.iter).exit().transition().duration(y).remove()}function p(){var t=m.table.map(function(t,e){var n=b[0].indexOf(t);return w.range(7).map(function(t){return e?{r:t,c:n,t:e}:{r:n,c:t,t:e}})}).reduce(function(t,e){return t.concat(e)},[]);g.selectAll("rect.op-grid").data(t).enter().append("rect").attr("class","op-grid").attr("width",function(t){return t.t?0:50}).attr("height",function(t){return t.t?50:0}).attr("transform",x().translate(function(t){return t.t?[200,50+50*t.r]:[200+50*t.c,50]})).transition().duration(y).attr("width",50).attr("height",50).attr("transform",x().translate(function(t){return[200+50*t.c,50+50*t.r]}));var e=g.selectAll("rect.op-grid").data(t).exit(),n=e[0].map(function(t){return t.__data__}).sort(function(t,e){return t.r===e.r?t.c-e.c:t.r-e.r}).reduce(function(t,e,n){return t.s||t.r===e.r&&t.c===e.c?{r:t.r,c:t.c,s:1}:e},[]);n.r=n.r||0,n.c=n.c||0,e.transition().duration(y/2).attr("transform",x().translate(function(t,e,r){return[200+50*n.c,50+50*n.r]})).transition().duration(y/2).remove()}function l(t,e){m=t,y=e}function u(t,e){l(t,e),r(),a(),s(),i(),o(),c(),p()}function f(){var t=this,e=w.behavior.zoom().scaleExtent([.1,10]).on("zoom",function(){t.svg.attr("transform",x().translate(w.event.translate).scale(w.event.scale))});this.svg=w.select(this.refs.svg.getDOMNode()).append("svg").call(e).append("g"),this.g=this.svg.append("g").attr("transform",x().translate(10,10).scale(1)),this.gbase=this.g.append("g").attr("class","base"),this.ghigh=this.g.append("g").attr("class","high"),this.gtext=this.g.append("g").attr("class","text"),this.gbase.selectAll("rect.op-grid").data(w.range(49).map(function(t){return{r:Math.floor(t/7),c:t%7}})).enter().append("rect").attr("class","op-grid").attr("transform",x().translate(function(t,e){return[200+50*t.c,50+50*t.r]})).attr("width",function(t){return(t.r+t.c)%2?0:50}).attr("height",function(t){return(t.r+t.c)%2?50:0}).transition().duration(.75*this.props.delay).attr("width",50).attr("height",50),this.gtext.selectAll("text.op-grid").data(b.reduce(function(t,e,n){return t.concat(e.map(function(t,e){return{v:t,r:n,c:e}}))},[])).enter().append("text").attr("class","op-grid").attr("transform",x().translate(function(t,e){return[200+50*t.c+25,50+50*t.r+25+5]})).text("").transition().duration(.75*this.props.delay).text(function(t){return t.v}),h=this.gbase,d=this.gtext,g=this.ghigh,v=this.props.others}var h,d,g,m,y,v,w=n(3),x=n(5),b=[["#","+","-","*","/","(",")"],["+",">",">","<","<","<",">"],["-",">",">","<","<","<",">"],["*",">",">",">",">","<",">"],["/",">",">",">",">","<",">"],["(","<","<","<","<","<","<"],[")","/","/","/","/","/","/"]];t.exports={init:f,render:u}}});