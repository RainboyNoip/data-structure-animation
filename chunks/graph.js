webpackJsonpdsa([4],{18:function(t,e,n){},30:function(t,e,n){e=t.exports=n(8)(),e.push([t.id,"circle.node{fill:#ccc;stroke:#000;stroke-width:1.5px}circle.node.painter-selected{fill:#000}text.edge,text.node{fill:#000;font:20px sans-serif;pointer-events:none;text-anchor:middle;text-shadow:0 1px 0 #fff,1px 0 0 #fff,0 -1px 0 #fff,-1px 0 0 #fff}path.drag,path.edge{fill:none;stroke:#000;stroke-width:4px}path.edge.painter-selected{stroke-dasharray:10 2;-webkit-animation:dash .6s linear infinite;animation:dash .6s linear infinite}@-webkit-keyframes dash{from{stroke-dashoffset:12}to{stroke-dashoffset:0}}@keyframes dash{from{stroke-dashoffset:12}to{stroke-dashoffset:0}}",""])},43:function(t,e,n){var r=n(1),a=n(3),s=n(106),i=n(107);t.exports=r.createClass({displayName:"module.exports",getInitialState:function(){return{painting:!1}},componentDidMount:function(){s.init({container:this.refs.svg.getDOMNode(),offsetTop:document.querySelector(".dsa-app").offsetTop+55,offsetLeft:document.querySelector(".dsa-app").offsetLeft+80})},componentDidUpdate:function(t){this.props!==t&&void 0!==this.props.frame&&i.render(this.props.frame.status,this.props.delay,this.props.others)},render:function(){return r.createElement("div",{className:"wrapper-code"},r.createElement("div",{className:"list"},this.getInputList()),r.createElement("div",{ref:"svg",className:"scene"}))},_onPainting:function(){this.state.painting?s.stop():(a.pauseDemo(),a.waitDemo(),s.restart()),this.setState({painting:!this.state.painting})},_onChange:function(t,e){var n={};n[t]=e.target.value,this.setState(n)},_onClick:function(t,e){-1!==t.indexOf("create")?a.runDemo(t,{n:this.state.text,f:this.state.fn,t:e}):a.runDemo(t,this.state.text)},_onConvert:function(t,e){s.convert(t,e)},getInputList:function(){return this.state.painting?r.createElement("div",null,r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onConvert.bind(this,!1,!1),value:"无向无权图",title:"无向无权图"}),r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onConvert.bind(this,!1,!0),value:"无向带权图",title:"无向带权图"}),r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onConvert.bind(this,!0,!1),value:"有向无权图",title:"有向无权图"}),r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onConvert.bind(this,!0,!0),value:"有向带权图",title:"有向带权图"}),r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onPainting,value:"完成",title:"完成"})):r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onPainting,value:"编辑",title:"编辑"})}})},57:function(t,e,n){t.exports="CC=gcc\nCFLAGS=-c -Wall\nLDFLAGS=\nSOURCES=test.c ../common/util.c ../common/util.h\nOBJECTS=$(SOURCES:.c=.o)\nEXECUTABLE=a.out\n\nall: $(SOURCES) $(EXECUTABLE)\n\n$(EXECUTABLE): $(OBJECTS)\n    $(CC) $(LDFLAGS) $(OBJECTS) -o $@\n\n.cpp.o:\n    $(CC) $(CFLAGS) $&lt; -o $@\n\nclean:\n    rm -rf *.o a.out"},58:function(t,e,n){t.exports="编辑\n- 添加边：拖动节点\n- 加权值： 选择后按回车键输入数字\n- 添加点：双击空白处\n- 固定点：按住shif键并拖动节点\n- 放大：鼠标滚动\n- 平移：拖动空白处\n- 选择：点击节点或边\n- 删除：选择后按退格键\n- 转换：选择有向/无向+带权/无权图\n完成"},59:function(t,e,n){t.exports=""},60:function(t,e,n){t.exports="编辑\n- 添加边：拖动节点\n- 加权值： 选择后按回车键输入数字\n- 添加点：双击空白处\n- 固定点：按住shif键并拖动节点\n- 放大：鼠标滚动\n- 平移：拖动空白处\n- 选择：点击节点或边\n- 删除：选择后按退格键\n- 转换：选择有向/无向+带权/无权图\n完成"},97:function(t,e,n){var r=n(30);"string"==typeof r&&(r=[[t.id,r,""]]);n(9)(r,{})},106:function(t,e,n){function r(t){Y=t.container||document.body,U=d3.select(t.container).append("svg").node(),R=t.weighted||!1,B=t.directional||!1,I=t.width||U.clientWidth||t.container.clientWidth,P=t.height||U.clientHeight||t.container.clientHeight,st=t.offsetLeft||0,at=t.offsetTop||0,W.nodes=d3.range(t.n||5).map(function(){return{}}),W.edges=t.edges||d3.range(5).map(function(t){return{source:W.nodes[t],target:W.nodes[(t+1)%5]}}),O=void 0,N=t._onSelected||void 0,nt=void 0,rt=!1,j=d3.select(U).call(et).on("dblclick.zoom",null).on("dblclick.svg",C).append("g");var e=j.append("defs");return e.append("marker").attr("id","arrow-end").attr("viewBox","0 -5 10 10").attr("refX",7).attr("refY",0).attr("markerWidth",V).attr("markerHeight",V).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5"),e.append("marker").attr("id","arrow-start").attr("viewBox","0 -5 10 10").attr("refX",3).attr("refY",0).attr("markerWidth",V).attr("markerHeight",V).attr("orient","auto").append("path").attr("d","M10,-5L0,0L10,5"),$=j.append("g").attr("class","base"),F=$.append("g").attr("class","edges"),H=$.append("g").attr("class","nodes"),q=j.append("g").attr("class","texts").attr("transform","translate(0,7)"),F.append("path").attr("class","drag").attr("marker-end","url(#arrow-end)").style("display","none"),d3.select(window).on("keydown.window",E),Z.nodes(W.nodes).links(W.edges).size([I,P]),d(),D(!1),Z.on("end",function(){D(),this.on("end",null)}),this}function a(t,e){var n=t.x-e.x,r=t.y-e.y;return G*G>=n*n+r*r}function s(t,e){var n=Math.PI*e/180;return{x:t.x*Math.cos(n)+t.y*Math.sin(n),y:t.x*-Math.sin(n)+t.y*Math.cos(n)}}function i(t){return"translate("+t.x+","+t.y+")"}function o(t){return{x:-t.x,y:-t.y}}function c(t,e){return{x:t.x-e.x,y:t.y-e.y}}function l(t){return void 0===t.val?"":t.val}function p(t){var e=t.target.x-t.source.x,n=t.target.y-t.source.y,r=Math.sqrt(e*e+n*n);e*=G/r,n*=G/r;var i={x:t.source.x+e,y:t.source.y+n},l={x:t.target.x-e,y:t.target.y-n};if(B&&R){var p=W.edges.filter(function(e){return e.target===t.source&&(e.source===t.target||a(t.target,e.source))});return p.length>0?(i=c(s(c(i,t.source),30),o(t.source)),l=c(s(c(l,t.target),-30),o(t.target)),"M"+i.x+","+i.y+"A"+r+","+r+" 0 0,1 "+l.x+","+l.y):"M"+i.x+","+i.y+"L"+l.x+","+l.y}return"M"+i.x+","+i.y+"L"+l.x+","+l.y}function u(){H.selectAll(".node").data(W.nodes).classed("painter-selected",function(t){return t===O}).attr("transform",i),q.selectAll(".node").data(W.nodes).attr("transform",i).text(function(t,e){return e}),F.selectAll(".edge").data(W.edges).classed("painter-selected",function(t){return t===O}).attr("marker-end",B?"url(#arrow-end)":null).attr("marker-start",B&&R===!1?function(t){return t.reflexive?"url(#arrow-start)":null}:null).attr("d",p),R&&(F.selectAll(".edge").each(function(t){var e=this.getPointAtLength(this.getTotalLength()/2);t.x=e.x,t.y=e.y}),q.selectAll(".edge").data(W.edges).attr("transform",i).text(l))}function d(){H.selectAll(".node").data(W.nodes).enter().append("circle").attr("class","node").attr("r",G).on("dblclick.node",h).call(tt).on("click.select",w).on("mousedown.node",v).on("mouseup.node",x),H.selectAll(".node").data(W.nodes).exit().remove(),q.selectAll(".node").data(W.nodes).enter().append("text").attr("class","node"),q.selectAll(".node").data(W.nodes).exit().remove(),F.selectAll(".edge").data(W.edges).enter().append("path").attr("class","edge").on("click.select",w),F.selectAll(".edge").data(W.edges).exit().remove(),R?(q.selectAll(".edge").data(W.edges).enter().append("text").attr("class","edge"),q.selectAll(".edge").data(W.edges).exit().remove()):q.selectAll(".edge").remove(),Z.start()}function f(){I=U.clientWidth||Y.clientWidth,P=U.clientHeight||Y.clientHeight,Z.size([I,P]).resume()}function h(t){d3.event.stopPropagation(),d3.select(this).classed("fixed",t.fixed=!1),Z.resume()}function m(t){t.fixed|=2}function g(t){nt&&(rt?(d3.select(this).classed("fixed",t.fixed=!0),t.px=d3.event.x||d3.event.clientX,t.py=d3.event.y||d3.event.clientY,Z.resume()):a(d3.event,t)===!1?F.select("path.drag").datum({source:t,target:{x:d3.event.x||d3.event.clientX,y:d3.event.y||d3.event.clientY}}).attr("d",p).style("display",null):F.select("path.drag").style("display","none"))}function y(t){t.fixed&=-7,F.select("path.drag").style("display","none")}function v(t){(d3.event.ctrlKey===!1||void 0===d3.event.ctrlKey)&&(d3.event.stopPropagation(),nt=t,rt=d3.event.shiftKey?!0:!1)}function x(t){if(nt&&nt!==t){var e={source:nt,target:t};b(e),d()}nt=void 0,rt=!1}function w(t,e){O=O===t?void 0:t,e===!0&&(O=t),O&&N&&N(),Z.resume()}function b(t){var e;B===!1?(e=W.edges.filter(function(e){return e.source===t.source&&e.target===t.target||e.target===t.source&&e.source===t.target}),e.length>0?t=e[0]:W.edges.push(t)):R?(e=W.edges.filter(function(e){return e.source===t.source&&e.target===t.target}),e.length>0?t=e[0]:W.edges.push(t)):(e=W.edges.filter(function(e){return e.source===t.source&&e.target===t.target||e.target===t.source&&e.source===t.target}),e.length>0?(e[0].source===t.target&&(e[0].reflexive=!0),t=e[0]):W.edges.push(t)),w(t,!0)}function _(){var t=void 0===O||void 0===O.val?"数字":O.val;return parseFloat(prompt("权值",t))}function k(t){var e=t();if(!isNaN(e)&&O.val!==e)return O.val=e,d(),this}function E(){O&&(8===d3.event.keyCode?(d3.event.preventDefault(),A()):13===d3.event.keyCode&&R&&k(_))}function A(){var t=W.nodes.indexOf(O);return-1!==t?(W.nodes.splice(t,1),W.edges.filter(function(t){return t.source===O||t.target===O}).forEach(function(t){W.edges.splice(W.edges.indexOf(t),1)})):(t=W.edges.indexOf(O),-1!=t&&W.edges.splice(W.edges.indexOf(O),1)),O=void 0,d(),this}function S(){J=d3.event.translate,X=d3.event.scale,j.attr("transform","translate("+d3.event.translate+")scale("+d3.event.scale+")")}function M(){var t=document.documentElement;return{left:(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0),top:(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}}function C(){if(d3.event.target===this){var t=d3.event.x||d3.event.clientX||d3.event.clientX,e=d3.event.y||d3.event.clientY||d3.event.clientY,n=M();t+=n.left-st,e+=n.top-at;var r={x:(t-J[0])/X,y:(e-J[1])/X};W.nodes.push(r),w(r),d()}}function D(t){return O&&(F.select(".painter-selected").classed("painter-selected",!1),H.select(".painter-selected").classed("painter-selected",!1),O=void 0),t!==!1&&Z.stop(),d3.select(window).on("resize",null).on("keydown.window",null),d3.select(U).on("dblclick.svg",null),H.selectAll("circle.node").on("dblclick.node",null).on("dragstart",null).on("drag",null).on("dragend",null).on("click.select",null).on("mousedown.node",null).on("mouseup.node",null),F.selectAll("path.edge").on("click.select",null),this}function L(t,e){function n(t,e){return t.source===e.target&&t.target===e.source}if(B!==t||R!==e){pd=B,B=t,R=e;var r=[];return W.edges.forEach(function(t){B?R?((pd===!1||t.reflexive)&&r.push({source:t.target,target:t.source,val:t.val}),delete t.reflexive,r.push(t)):(delete t.reflexive,r.some(function(e){return n(t,e)})===!1&&((pd===!1||W.edges.some(function(e){return n(t,e)})===!0)&&(t.reflexive=!0),r.push(t))):r.some(function(e){return n(t,e)})===!1&&(delete t.reflexive,r.push(t))}),W.edges=r,d(),this}}function z(t){return N=t,this}function T(){Z.start(),d3.select(window).on("resize",f).on("keydown.window",E),d3.select(U).on("dblclick.svg",C),H.selectAll("circle.node").on("dblclick.node",h).call(tt).on("click.select",w).on("mousedown.node",v).on("mouseup.node",x),F.selectAll("path.edge").on("click.select",w)}n(97);var U,R,B,I,P,O,N,j,$,F,H,q,Y,W={},J=[0,0],X=1,G=15,Q=150,K=-600,V=3,Z=d3.layout.force().linkDistance(Q).charge(K).on("tick",u),tt=d3.behavior.drag().origin(function(t){return t}).on("dragstart",m).on("drag",g).on("dragend",y),et=d3.behavior.zoom().scaleExtent([.1,10]).on("zoom",S),nt=void 0,rt=!1,at=0,st=0;t.exports={stop:D,convert:L,weighSelected:k,deleteSelected:A,onSelected:z,init:r,restart:T,data:function(){return W}}},107:function(t,e,n){t.exports={}}});