webpackJsonpdsa([2],{6:function(t,e,n){t.exports='<span class="comment">#include &lt;stdio.h></span>\n<span class="comment">#include &lt;stdlib.h></span>\n<span class="comment">#include &lt;string.h></span>\n<span class="comment">#include "./util.h"</span>\n\nvoid* SafeMalloc(size_t size) {\n    void* m;\n    <span class="keyword">if</span> ((m = malloc(size))) {\n        <span class="keyword">return</span> m;\n    } <span class="keyword">else</span> {\n        printf(<span class="string">"memory overflow\\n"</span>);\n        <span class="keyword">exit</span>(-<span class="number">1</span>);\n        <span class="keyword">return</span> <span class="number">0</span>;\n    }\n}\n\nvoid MemoryCopy(void *a, <span class="keyword">const</span> void *b, size_t size) {\n    <span class="comment">// size_t i;</span>\n    <span class="comment">// size_t n = size / sizeof(char);</span>\n    <span class="comment">// for (i = 0; i &lt; n; ++i) {</span>\n    <span class="comment">//     *((char *)a + i) = *((char *)b + i);</span>\n    <span class="comment">// }</span>\n    memcpy(a, b, size);\n}\n\nvoid MemorySwap(void *a, void *b, size_t size) {\n    <span class="comment">// size_t i;</span>\n    <span class="comment">// size_t n = size / sizeof(char);</span>\n    <span class="comment">// char t;</span>\n    <span class="comment">// for (i = 0; i &lt; n; ++i) {</span>\n    <span class="comment">//     t = *(char *)a;</span>\n    <span class="comment">//     *((char *)a + i) = *((char *)b + i);</span>\n    <span class="comment">//     *((char *)b + i) = t;</span>\n    <span class="comment">// }</span>\n    void *t = SafeMalloc(size);\n    memcpy(t, a, size);\n    memcpy(a, b, size);\n    memcpy(b, t, size);\n}\n\nvoid MemoryClear(void *a, size_t size) {\n    memset(a, <span class="number">0</span>, size);\n}\n\nvoid *MemoryAddress(void *a, int i, size_t size) {\n    <span class="keyword">return</span> (char *)a + i*size;\n}'},7:function(t,e,n){t.exports='<span class="comment">#ifndef UTIL_H</span>\n<span class="comment">#define UTIL_H</span>\n\n<span class="comment">#include &lt;stddef.h></span>\n\nvoid * SafeMalloc(size_t size);\nvoid MemoryCopy(void *a, <span class="keyword">const</span> void *b, size_t size);\nvoid MemorySwap(void *a, void *b, size_t size);\nvoid MemoryClear(void *a, size_t size);\n\n<span class="comment">#endif</span>'},25:function(t,e,n){function r(){E=v(k),a(0,k.length-1),k=E}function a(t,e){d(t,e),f();var n,r,s,i,o;if(y(8,1),t==e)return y(9,1),void d();for(y(11,1),n=t,y(12,1),r=t+Math.floor((e-t+1)/2),i=r,f(n,r),y(13,1),a(n,r-1),y(14,1),a(r,e),h(i),y(15,1),o=[],y(16,1),s=0;y(17,1),i>n&&e>=r;)f(n,r),y(18,1),c(n,r),k[n]<=k[r]?(y(19,1),o[s]=k[n],m(n,t+s),c(),y(20,1),n++):(y(22,1),o[s]=k[r],m(r,t+s),c(),y(23,1),r++),f(n,r),y(25,1),s++;for(;y(27,1),i>n;)f(n,r),y(28,1),o[s]=k[n],m(n,t+s),y(29,1),s++,y(30,1),n++;for(f(n,r);y(32,1),e>=r;)f(n,r),y(33,1),o[s]=k[r],m(r,t+s),y(34,1),s++,y(35,1),r++;for(f(),n=t,s=0;y(37,1),e>=n;++n,++s)y(38,1),k[n]=o[s],m();y(40,1),d(),h()}function s(){E=v(k),o(0,k.length-1),l(),k=E}function o(t,e){d(t,e),f();var n,r,a;if(y(45,1),t>=e)return y(46,1),d(),void(t===e&&l(t));for(y(48,1),n=t,h(t+1),y(49,1),r=e,f(n,r);y(50,1),r>n;){for(;y(51,1),r>n&&(c(t,r),k[t]<=k[r]);)y(52,1),r--,f(n,r),c();for(;y(54,1),r>n&&(c(t,n),k[t]>=k[n]);)y(55,1),n++,f(n,r),c();y(57,1),a=k[n],k[n]=k[r],k[r]=a,p(n,r),c()}y(59,1),a=k[t],k[t]=k[r],k[r]=a,p(t,r),h(),l(r),y(60,1),o(t,r-1),y(61,1),o(r+1,e),d()}function c(t,e){void 0===t?_.cf=[]:_.cf=[{i:u(t),j:u(e)}]}function l(t){void 0===t?_.fin=[]:_.fin.push(u(t))}function p(t,e){bi=u(t),bj=u(e),A[t]=bj,_.mp[bi]=e,A[e]=bi,_.mp[bj]=t}function u(t){return 0===A[t]?0:A[t]||t}function h(t){void 0===t?_.mid=[]:_.mid=[t]}function f(){0===arguments.length?_.pt=[]:_.pt=Array.prototype.slice.call(arguments)}function d(t,e){void 0===t?_.bg.pop():_.bg.push([t,e])}function m(t,e){void 0===t?(t=_.dn[0],A[_.mp[t]]=t,_.dn.shift()):(t=u(t),_.dn.push(t),_.mp[t]=e)}function y(t,e,n){1===e&&(lastStatus=_.clone()),x.push({status:lastStatus,line:t,animation:n,id:w}),w++}function g(){0===x.length?0:x[x.length-1].line;y(165,1)}var v=n(4),x=[],w=0,_={},b=0,k=[],E=[],A={};_.clone=function(){return{arr:E,cf:v(this.cf),fin:v(this.fin),mid:v(this.mid),bg:v(this.bg),pt:v(this.pt),dn:v(this.dn),mp:v(this.mp)}},_.init=function(t){A=[],this.cf=[],this.fin=[],this.mid=[],this.bg=[],this.pt=[],this.dn=[],this.mp={}},lastStatus={},t.exports={getInitialDescriptions:function(){this.initialize(!0);var t=11,e=[];for(i=0;i<t;++i)e.push(Math.ceil(100*Math.random()));return this.run("qsort",e.join(" "))},initialize:function(t){return x=[],w=0,b=0,_.init(t),lastStatus=_.clone(),this},msort:r,qsort:s,run:function(t,e){var n=e.split(" ").map(function(t){return parseInt(t)}).filter(function(t){return t>0});return 0!==n.length&&(k=n),this.initialize()[t](),g(),{frames:x,others:{}}}}},33:function(t,e,n){e=t.exports=n(8)(),e.push([t.id,"#right-arr path{-webkit-transform-origin:center;-ms-transform-origin:center;transform-origin:center;-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}line.ptr{stroke:#00bfff;stroke-width:10px;stroke-opacity:1}",""])},50:function(t,e,n){var r=n(1),a=n(3),s=n(114);t.exports=r.createClass({displayName:"module.exports",getInitialState:function(){return{text:""}},componentDidMount:function(){s.init.bind(this)();for(var t=11,e=[],n=0;t>n;++n)e.push(Math.ceil(100*Math.random()));a.runDemo("qsort",e.join(" "),!1)},componentDidUpdate:function(t){this.props!==t&&void 0!==this.props.frame&&s.render(this.props.frame.status,this.props.delay,this.props.others)},render:function(){return r.createElement("div",{className:"wrapper-code"},r.createElement("div",{className:"list"},r.createElement("input",{onChange:this._onChange,value:this.state.text,placeholder:"数组"}),r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onClick.bind(this,"msort"),value:"归并排序",title:"归并排序"}),r.createElement("input",{className:"cmd-button",readOnly:!0,onClick:this._onClick.bind(this,"qsort"),value:"快速排序",title:"快速排序"})),r.createElement("div",{ref:"svg",className:"scene"}))},_onChange:function(t){this.setState({text:t.target.value})},_onClick:function(t){a.runDemo(t,this.state.text)}})},85:function(t,e,n){t.exports="CC=gcc\nCFLAGS=-c -Wall\nLDFLAGS=\nSOURCES=test.c sort.c sort.h ../common/util.c ../common/util.h\nOBJECTS=$(SOURCES:.c=.o)\nEXECUTABLE=a.out\n\nall: $(SOURCES) $(EXECUTABLE)\n\n$(EXECUTABLE): $(OBJECTS)\n    $(CC) $(LDFLAGS) $(OBJECTS) -o $@\n\n.cpp.o:\n    $(CC) $(CFLAGS) $&lt; -o $@\n\nclean:\n    rm -rf *.o a.out"},86:function(t,e,n){t.exports='<span class="comment">#include &lt;stdlib.h></span>\n<span class="comment">#include "sort.h"</span>\n<span class="comment">#include "../common/util.h"</span>\n\nvoid MergeSort(void *a, int n, int s, int(*Compare)(<span class="keyword">const</span> void *, <span class="keyword">const</span> void *)) {\n    int i, j, k;\n    char *t;\n    <span class="keyword">if</span> (n == <span class="number">1</span>) {\n        <span class="keyword">return</span>;\n    }\n    i = <span class="number">0</span>;\n    j = n/<span class="number">2</span>;\n    MergeSort(a, n/<span class="number">2</span>, s, Compare);\n    MergeSort((char *)a + j*s, n-n/<span class="number">2</span>, s, Compare);\n    t = SafeMalloc(n*s);\n    k = <span class="number">0</span>;\n    <span class="keyword">while</span> (i &lt; n/<span class="number">2</span> &amp;&amp; j &lt; n) {\n        <span class="keyword">if</span> (Compare((char *)a + i*s, (char *)a + j*s) &lt;= <span class="number">0</span>) {\n            MemoryCopy((char *)t + k*s, (char *)a + i*s, s);\n            i++;\n        } <span class="keyword">else</span> {\n             MemoryCopy((char *)t + k*s, (char *)a + j*s, s);\n            j++;\n        }\n        k++;\n    }\n    <span class="keyword">while</span> (i &lt; n/<span class="number">2</span>) {\n        MemoryCopy((char *)t + k*s, (char *)a + i*s, s);\n        k++;\n        i++;\n    }\n    <span class="keyword">while</span> (j &lt; n) {\n        MemoryCopy((char *)t + k*s, (char *)a + j*s, s);\n        k++;\n        j++;\n    }\n    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; n; ++i) {\n        MemoryCopy((char *)t + i*s, (char *)a + i*s, s);\n    }\n    free(t);\n}\n\nvoid QuickSort(void *a, int n, int s, int(*Compare)(<span class="keyword">const</span> void *, <span class="keyword">const</span> void *)) {\n    int i, j;\n    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) {\n        <span class="keyword">return</span>;\n    }\n    i = <span class="number">0</span>;\n    j = n-<span class="number">1</span>;\n    <span class="keyword">while</span> (i &lt; j) {\n        <span class="keyword">while</span> (i &lt; j &amp;&amp; Compare(a, (char *)a + j*s) &lt;= <span class="number">0</span>) {\n            j--;\n        }\n        <span class="keyword">while</span> (i &lt; j &amp;&amp; Compare(a, (char *)a + i*s) >= <span class="number">0</span>) {\n            i++;\n        }\n        MemorySwap((char *)a + i*s, (char *)a + j*s, s);\n    }\n    MemorySwap(a, (char *)a + j*s, s);\n    QuickSort(a, j, s, Compare);\n    QuickSort((char *)a + (j+<span class="number">1</span>)*s, n-j-<span class="number">1</span>, s, Compare);\n}'},87:function(t,e,n){t.exports='<span class="comment">#ifndef SORT_H</span>\n<span class="comment">#define SORT_H</span>\n\nvoid MergeSort(void *a, int n, int s, int(*Compare)(<span class="keyword">const</span> void *, <span class="keyword">const</span> void *));\nvoid QuickSort(void *a, int n, int s, int(*Compare)(<span class="keyword">const</span> void *, <span class="keyword">const</span> void *));\n\n<span class="comment">#endif</span>'},88:function(t,e,n){t.exports='<span class="comment">#include &lt;stdio.h></span>\n<span class="comment">#include &lt;stdlib.h></span>\n<span class="comment">#include &lt;assert.h></span>\n<span class="comment">#include "./sort.h"</span>\n<span class="comment">#include "../common/util.h"</span>\n\nint cf(<span class="keyword">const</span> void *a, <span class="keyword">const</span> void *b) {\n    <span class="keyword">return</span> *(int *)a - *(int *)b;\n}\n\nint main(int argc, char <span class="keyword">const</span> *argv[])\n{\n    int i, j, m, n, *a, *b;\n    scanf(<span class="string">"%d"</span>, &amp;m);\n    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; m; ++i) {\n        scanf(<span class="string">"%d"</span>, &amp;n);\n        a = SafeMalloc(sizeof(int)*n);\n        b = SafeMalloc(sizeof(int)*n);\n        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; ++j) {\n            scanf(<span class="string">"%d"</span>, a+j);\n            b[j] = a[j];\n        }\n        <span class="comment">// MergeSort(a, n, sizeof(int), cf);</span>\n        QuickSort(b, n, sizeof(int), cf);\n        printf(<span class="string">"test %d:\\n"</span>, i+<span class="number">1</span>);\n        <span class="keyword">for</span> (j = <span class="number">0</span>; j &lt; n; ++j) {\n            printf(<span class="string">"%d "</span>, b[j]);\n        }\n        printf(<span class="string">"\\n"</span>);\n        <span class="keyword">for</span> (j = <span class="number">1</span>; j &lt; n; ++j) {\n            <span class="comment">// assert(a[j-1] &lt;= a[j]);</span>\n            assert(b[j-<span class="number">1</span>] &lt;= b[j]);\n        }\n        <span class="comment">// printf("  MergeSort passed\\n");</span>\n        printf(<span class="string">"  QuickSort passed\\n"</span>);\n        free(a);\n        free(b);\n    }\n    printf(<span class="string">"all %d tests passed\\n"</span>, m);\n    <span class="keyword">return</span> <span class="number">0</span>;\n}'},100:function(t,e,n){var r=n(33);"string"==typeof r&&(r=[[t.id,r,""]]);n(9)(r,{})},114:function(t,e,n){function r(t){return 0===b.mp[t]?0:b.mp[t]||t}function a(t,e){return C(r(e))}function s(t,e,n){return n===!0||-1===b.dn.indexOf(e)?T(t):-(T(0)-T(t))-30}function i(t,e){return T(0)-T(t)}function o(t){for(var e=b.bg,n=e.length-1;n>0&&(e[n][0]>t||t>e[n][1]);n--);return n}function c(t,e){return 1}function l(t,e,n){return-1!==b.fin.indexOf(e)&&n!==!0?"none":(e=r(e),P(o(e)))}function p(t,e){return-1===b.fin.indexOf(e)?"none":(e=r(e),P(o(e)))}function u(){x.selectAll("rect.item").data(b.arr).enter().append("rect").attr("class","item").attr("x",function(t,e){return C(e)}).attr("y",S).attr("width",C.rangeBand()).attr("height",0),x.selectAll("rect.item").data(b.arr).transition().duration(k).attr("x",a).attr("y",s).attr("height",i).attr("width",C.rangeBand()).style("fill",l).style("stroke",p).style("opacity",c),x.selectAll("rect.item").data(b.arr).exit().remove(),w.selectAll("text.item").data(b.arr).enter().append("text").attr("class","item").attr("x",function(t,e){return C(e)+C.rangeBand()/2}).attr("y",S+20).text(function(t){return t}),w.selectAll("text.item").data(b.arr).transition().duration(k).attr("x",function(t,e){return a(t,e)+C.rangeBand()/2}).attr("y",function(t,e){return s(t,e)<0?-10:S+20}).style("fill",function(t,e){return l(t,e,!0)}).style("opacity",c).text(function(t){return t}),w.selectAll("text.item").data(b.arr).exit().remove()}function h(){var t=b.pt.map(function(t){return t>=b.arr.length?C(b.arr.length-1)+1.6*C.rangeBand():C(t)+C.rangeBand()/2});x.selectAll("line.pt").data(t).enter().append("line").attr("class","pt").attr("stroke",function(t,e){return P(e)}).attr("stroke-width",U).attr("stroke-opacity",.5).attr("marker-end",function(t,e){return"url(#"+(e?"j":"i")+"-arr)"}).attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",function(t){return S+90}).attr("y2",function(t){return S+50}),x.selectAll("line.pt").data(t).transition().duration(k).attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",function(t){return S+90}).attr("y2",function(t){return S+50}),x.selectAll("line.pt").data(t).exit().remove()}function f(){x.selectAll("line.mid").data(b.mid).enter().append("line").attr("class","mid").attr("x1",function(t){return C(t)-2.5}).attr("x2",function(t){return C(t)-2.5}).attr("y1",-20).attr("y2",-20).style("stroke",R).style("stroke-opacity",1).style("stroke-width",5).style("stroke-dasharray","20 5"),x.selectAll("line.mid").data(b.mid).transition().duration(k).attr("x1",function(t){return C(t)-2.5}).attr("x2",function(t){return C(t)-2.5}).attr("y1",-20).attr("y2",S+20),x.selectAll("line.mid").data(b.mid).exit().transition().duration(k).attr("y2",0).remove()}function d(){x.selectAll("line.cf").data(b.cf).enter().append("line").attr("class","cf").style("stroke",R).style("stroke-opacity",1).style("stroke-width",5),x.selectAll("line.cf").data(b.cf).attr("x1",function(t){return C(r(t.i))}).attr("x2",function(t){return C(r(t.i))+C.rangeBand()}).attr("y1",function(t){return T(b.arr[t.i])}).attr("y2",function(t){return T(b.arr[t.i])}).transition().duration(k).attr("x1",function(t){return C(r(t.j))}).attr("x2",function(t){return C(r(t.j))+C.rangeBand()}).attr("y1",function(t){return T(b.arr[t.i])}).attr("y2",function(t){return T(b.arr[t.i])}),x.selectAll("line.cf").data(b.cf).exit().remove()}function m(){console.log(JSON.stringify(b)),0===b.bg.length&&(b.bg=[[0,b.arr.length-1]]),A=L/12*b.arr.length,C.rangeRoundBands([0,A],.08).domain(M.range(b.arr.length)),T.domain([0,M.max(b.arr)])}function y(t,e){b=t,k=e}function g(t,e){y(t,e),m(),u(),f(),h(),d()}function v(){var t=this,e=M.behavior.zoom().scaleExtent([.1,10]).on("zoom",function(){t.svg.attr("transform",D().translate(M.event.translate).scale(M.event.scale))});this.svg=M.select(this.refs.svg.getDOMNode()).append("svg").call(e).append("g");this.svg.append("defs").selectAll("marker").data(["i","j"]).enter().append("marker").attr("id",function(t){return t+"-arr"}).attr("viewBox","-5 -5 10 10").attr("markerWidth",z).attr("markerHeight",z).attr("orient","auto").attr("refX",-5).append("path").attr("d","M-5,-5L5,0L-5,5").attr("opacity",.5).attr("fill",function(t,e){return P(e)});this.g=this.svg.append("g").attr("transform",D().translate(100,200).scale(.5)),_=this.g.append("g").attr("class","high"),x=this.g.append("g").attr("class","base"),w=this.g.append("g").attr("class","text"),E=this.props.others}n(100);var x,w,_,b,k,E,A,M=n(2),D=n(5),S=400,L=720,C=M.scale.ordinal().rangeRoundBands([0,A],.08),T=M.scale.linear().range([S,0]),z=3,R="deepskyblue",U=10,P=(M.interpolateRgb("white","black"),M.interpolate(0,1),M.scale.category10());t.exports={init:v,render:g}}});