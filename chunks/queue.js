webpackJsonpdsa([11],{2:function(e,n,t){e.exports='<span class="comment">#include &lt;stdio.h></span>\n<span class="comment">#include &lt;stdlib.h></span>\n<span class="comment">#include &lt;string.h></span>\n<span class="comment">#include "./util.h"</span>\n\nvoid* SafeMalloc(size_t size) {\n    void* m;\n    <span class="keyword">if</span> ((m = malloc(size))) {\n        <span class="keyword">return</span> m;\n    } <span class="keyword">else</span> {\n        printf(<span class="string">"memory overflow\\n"</span>);\n        <span class="keyword">exit</span>(-<span class="number">1</span>);\n        <span class="keyword">return</span> <span class="number">0</span>;\n    }\n}\n\nvoid MemoryCopy(void *a, <span class="keyword">const</span> void *b, size_t size) {\n    <span class="comment">// size_t i;</span>\n    <span class="comment">// size_t n = size / sizeof(char);</span>\n    <span class="comment">// for (i = 0; i &lt; n; ++i) {</span>\n    <span class="comment">//     *((char *)a + i) = *((char *)b + i);</span>\n    <span class="comment">// }</span>\n    memcpy(a, b, size);\n}\n\nvoid MemorySwap(void *a, void *b, size_t size) {\n    <span class="comment">// size_t i;</span>\n    <span class="comment">// size_t n = size / sizeof(char);</span>\n    <span class="comment">// char t;</span>\n    <span class="comment">// for (i = 0; i &lt; n; ++i) {</span>\n    <span class="comment">//     t = *(char *)a;</span>\n    <span class="comment">//     *((char *)a + i) = *((char *)b + i);</span>\n    <span class="comment">//     *((char *)b + i) = t;</span>\n    <span class="comment">// }</span>\n    void *t = SafeMalloc(size);\n    memcpy(t, a, size);\n    memcpy(a, b, size);\n    memcpy(b, t, size);\n}\n\nvoid MemoryClear(void *a, size_t size) {\n    memset(a, <span class="number">0</span>, size);\n}\n\nvoid *MemoryAddress(void *a, int i, size_t size) {\n    <span class="keyword">return</span> (char *)a + i*size;\n}'},3:function(e,n,t){e.exports='<span class="comment">#ifndef UTIL_H</span>\n<span class="comment">#define UTIL_H</span>\n\n<span class="comment">#include &lt;stddef.h></span>\n\nvoid * SafeMalloc(size_t size);\nvoid MemoryCopy(void *a, <span class="keyword">const</span> void *b, size_t size);\nvoid MemorySwap(void *a, void *b, size_t size);\nvoid MemoryClear(void *a, size_t size);\n\n<span class="comment">#endif</span>'},16:function(e,n,t){e.exports='<span class="comment">#include &lt;stddef.h></span>\n<span class="comment">#include &lt;stdlib.h></span>\n<span class="comment">#include "../common/util.h"</span>\n<span class="comment">#include "./queue.h"</span>\n\nint QueueIsEmpty(queue *q) {\n  <span class="keyword">return</span> q->front != q->tail ? <span class="number">0</span> : <span class="number">1</span>;\n}\n\nint QueueIsFull(queue *q) {\n  <span class="keyword">return</span> (q->tail+<span class="number">1</span>) % q->capacity != q->front ? <span class="number">0</span> : <span class="number">1</span>;\n}\n\nvoid *QueuePop(queue *q) {\n  void *item = <span class="keyword">NULL</span>;\n  <span class="keyword">if</span> (!QueueIsEmpty(q)) {\n    item = (char *)q->items + q->front*q->item_size;\n    q->front = (q->front+<span class="number">1</span>) % q->capacity;\n  }\n  <span class="keyword">return</span> item;\n}\n\nvoid *QueuePeak(queue *q) {\n  void *item = <span class="keyword">NULL</span>;\n  <span class="keyword">if</span> (!QueueIsEmpty(q)) {\n    item = (char *)q->items + q->front*q->item_size;\n  }\n  <span class="keyword">return</span> item;\n}\n\nvoid *QueuePush(queue *q, void *x) {\n  <span class="keyword">if</span> (!QueueIsFull(q)) {\n    MemoryCopy((char *)q->items + q->tail*q->item_size, x, q->item_size);\n    q->tail = (q->tail+<span class="number">1</span>) % q->capacity;\n    <span class="keyword">return</span> x;\n  }\n  <span class="keyword">return</span> <span class="keyword">NULL</span>;\n}\n\nqueue *QueueCreate(int n, size_t item_size) {\n  n = n+<span class="number">1</span>;  <span class="comment">// 1 for front-tail</span>\n  queue *q = SafeMalloc(sizeof(queue));\n  q->capacity = n;\n  q->front = q->tail = <span class="number">0</span>;\n  q->items = SafeMalloc(item_size*n);\n  q->item_size = item_size;\n  <span class="keyword">return</span> q;\n}\n\nvoid QueueDestroy(queue *q) {\n  free(q->items);\n  free(q);\n}'},17:function(e,n,t){e.exports='<span class="comment">#ifndef QUEUE_H</span>\n<span class="comment">#define QUEUE_H</span>\n<span class="comment">#include &lt;stddef.h></span>\ntypedef struct queue {\n  int front;\n  int tail;\n  int capacity;\n  size_t item_size;\n  void *items;\n} queue;\n\nqueue *QueueCreate(int n, size_t item_size);\nvoid QueueDestroy(queue *q);\nint QueueIsEmpty(queue *q);\nint QueueIsFull(queue *q);\nvoid *QueuePop(queue *q);\nvoid *QueuePeak(queue *q);\nvoid *QueuePush(queue *q, void *x);\n\n<span class="comment">#endif</span>'},32:function(e,n,t){function a(e){currentStatus.headtail=void 0===e?0:1}function s(e){currentStatus.toque=void 0===e?[]:[e]}function r(e){currentStatus.tofront=void 0===e?[]:[e]}function i(e,n,t){1===n&&(lastStatus=l(currentStatus)),p.push({status:lastStatus,line:e,animation:t,id:u}),u++}function o(){i(p[p.length-1].line,1)}var c,l=t(6),p=[],u=0,d=8;_id=0;var m=[],h=function(){return a(1),i(7,1),0===m.length?!0:(a(),!1)},f=function(){return a(1),i(11,1),m.length===d-1?!0:(a(),!1)},y=function(){i(16,1),h()||(i(18,1),m.shift(),currentStatus.head++),i(20,1)},g=function(){return i(25,1),h()?void i(28,1):(i(26,1),c=m[0].v,r(c),c)},v=function(e){s(e),i(32,1),f()||(i(33,1),m.push({v:e,i:_id++}),s(),i(34,1),currentStatus.tail++),i(36,1)},k=function(){currentStatus.head=0,currentStatus.tail=0,m=[],currentStatus.queue=m};currentStatus={},lastStatus={},e.exports={getInitialDescriptions:function(){return this.initialize(!0),v(0),v(50),this.run("enque",100)},initialize:function(e){return p=[],u=0,e&&(m=[]),currentStatus={queue:m,tofront:[],toque:[],headtail:0,head:currentStatus.head||0,tail:currentStatus.tail||0},lastStatus=l(currentStatus),this},enque:v,deque:y,front:g,init:function(){k(),i(0)},run:function(e,n){return this.initialize()[e](n),o(),{frames:p,others:{N:d}}}}},67:function(e,n,t){var a=t(1);e.exports=a.createClass({displayName:"module.exports",render:function(){var e={display:this.props.show?"block":"none"};return a.createElement("svg",{className:"legend",width:"210",height:"90",style:e},a.createElement("rect",{className:"outline",stroke:"black",x:"0",y:"0",width:"200",height:"90"}),a.createElement("g",{transform:"translate(15,20)"},a.createElement("g",{transform:"translate(12,0)"},a.createElement("path",{d:"M0,12A12,12 0 1,1 0,-12A12,12 0 1,1 0,12M0,6A6,6 0 1,0 0,-6A6,6 0 1,0 0,6Z",fill:"brown"})),a.createElement("g",{transform:"translate(12,20)"},a.createElement("path",{d:"M0,12A12,12 0 0,1 -12,0L-6,0A6,6 0 0,0 0,6Z",fill:"coral"})),a.createElement("g",{transform:"translate(3,55)"},a.createElement("path",{d:"M0,0L8.5,-8.5A12,12 0 0,1 12,0Z",fill:"coral"})),a.createElement("g",{transform:"translate(0,5)"},a.createElement("text",{x:"40",y:"0"},"循环队列"),a.createElement("text",{x:"40",y:"25"},"队列元素"),a.createElement("text",{x:"40",y:"50"},"取出队首"))))}})},68:function(e,n,t){var a=t(1),s=t(5),r=t(148),i=t(67);e.exports=a.createClass({displayName:"module.exports",getInitialState:function(){return{text:"",demo:"enque",help:!0}},componentDidMount:function(){r.init.bind(this)(),s.runDemo("init"),s.runDemo("enque",1),s.runDemo("enque",2,!1)},componentDidUpdate:function(e){this.props!==e&&void 0!==this.props.frame&&r.render(this.props.frame.status,this.props.delay,this.props.others)},render:function(){var e=[{button:{demo:"enque",onClick:this._onClick.bind(this,"enque"),value:"入队"},items:[{onChange:this._onChange,value:this.state.text,placeholder:"整数"}]},{button:{demo:"deque",onClick:this._onClick.bind(this,"deque"),value:"出队"}},{button:{demo:"front",onClick:this._onClick.bind(this,"front"),value:"队首"}},{button:{help:this.state.help,onClick:this._onHelp,value:"帮助"}}],n=this;return a.createElement("div",{className:"wrapper-code"},a.createElement("div",{className:"list"},e.map(function(e,t){var s="input-group"+(e.button.help||e.button.demo===n.state.demo?" input-current":""),r=e.items?e.items:[];return a.createElement("div",{key:t,className:s},a.createElement("input",{className:"input-button",readOnly:!0,onClick:e.button.onClick,value:e.button.value,title:e.button.value}),a.createElement("div",null,r.map(function(e,n){return a.createElement("input",{key:n,className:"input-item",onChange:e.onChange,value:e.value,title:e.value,placeholder:e.placeholder})})))})),a.createElement("div",{ref:"svg",className:"scene"}),a.createElement(i,{show:this.state.help}))},_onChange:function(e){this.setState({text:e.target.value})},_onClick:function(e){this.setState({demo:e}),s.runDemo(e,this.state.text)},_onHelp:function(){this.setState({help:!this.state.help})}})},105:function(e,n,t){e.exports="CC=gcc\nCFLAGS=-c -Wall\nLDFLAGS=\nSOURCES=test.c queue.c queue.h ../common/util.c ../common/util.h\nOBJECTS=$(SOURCES:.c=.o)\nEXECUTABLE=a.out\n\nall: $(SOURCES) $(EXECUTABLE)\n\n$(EXECUTABLE): $(OBJECTS)\n    $(CC) $(LDFLAGS) $(OBJECTS) -o $@\n\n.cpp.o:\n    $(CC) $(CFLAGS) $&lt; -o $@\n\nclean:\n    rm -rf *.o a.out"},106:function(e,n,t){e.exports='<span class="comment">#include &lt;stdio.h></span>\n<span class="comment">#include "./queue.h"</span>\n\nint main(int argc, char <span class="keyword">const</span> *argv[]) {\n  int cmd;\n  int a;\n  int *b;\n  queue *q = QueueCreate(<span class="number">10</span>, sizeof(int));\n  <span class="keyword">while</span> (scanf(<span class="string">"%d"</span>, &amp;cmd) != EOF) {\n    <span class="keyword">switch</span>(cmd) {\n      <span class="keyword">case</span> <span class="number">0</span>:\n        scanf(<span class="string">"%d\\n"</span>, &amp;a);\n        b = QueuePush(q, &amp;a);\n        <span class="keyword">if</span> (b == <span class="keyword">NULL</span>) {\n          printf(<span class="string">"push null\\n"</span>);\n        } <span class="keyword">else</span> {\n          printf(<span class="string">"push %d\\n"</span>, *b);\n        }\n        <span class="keyword">break</span>;\n      <span class="keyword">case</span> <span class="number">1</span>:\n        b = QueuePeak(q);\n        <span class="keyword">if</span> (b == <span class="keyword">NULL</span>) {\n          printf(<span class="string">"peak null\\n"</span>);\n        } <span class="keyword">else</span> {\n          printf(<span class="string">"peak %d\\n"</span>, *b);\n        }\n        <span class="keyword">break</span>;\n      <span class="keyword">case</span> <span class="number">2</span>:\n        b = QueuePop(q);\n        <span class="keyword">if</span> (b == <span class="keyword">NULL</span>) {\n          printf(<span class="string">"pop null\\n"</span>);\n        } <span class="keyword">else</span> {\n          printf(<span class="string">"pop %d\\n"</span>, *b);\n        }\n        <span class="keyword">break</span>;\n      <span class="keyword">default</span>:\n        <span class="keyword">break</span>;\n    }\n  }\n  QueueDestroy(q);\n  <span class="keyword">return</span> <span class="number">0</span>;\n};'},148:function(e,n,t){function a(e){return e=e||0,x.svg.arc().innerRadius(_+e).outerRadius(b+e)}function s(e){return E*e/k}function r(e,n){return void 0===n&&(n=e+1),{startAngle:s(e),endAngle:s(n)}}function i(e,n){return void 0===n&&(n=e+50),{innerRadius:e,outerRadius:n}}function o(){var e=[g.head,g.tail];h.selectAll("path.head").data(e).enter().append("path").attr("class","head"),h.selectAll("path.head").data(e).transition().duration(v).style("fill",function(e,n){return g.headtail?z:"tomato"}).attrTween("d",function(e,n){if(void 0===this.__prev__){var t=x.interpolate(i(n?150:100,150),i(n?100:50,150));return this.__prev__=r(e),function(n){return x.svg.arc().startAngle(s(e)).endAngle(s(e+1))(t(n))}}var t=x.interpolate(this.__prev__,r(e));return this.__prev__=r(e),function(e){return x.svg.arc().innerRadius(n?100:50).outerRadius(150)(t(e))}}),f.selectAll("text.head").data(e).enter().append("text").attr("class","head").attr("dy",5).attr("transform",w().translate(function(e,n){return x.svg.arc().innerRadius(n?150:100,150).outerRadius(n?200:150,150).centroid(r(e))})).text(function(e,n){return n?"队尾":"队首"}),f.selectAll("text.head").data(e).transition().duration(v).attr("transform",w().translate(function(e,n){return x.svg.arc().innerRadius(n?100:50,150).outerRadius(n?150:100,150).centroid(r(e,e+1))}))}function c(){var e=g.queue,n=function(e){return e.i};h.selectAll("path.item").data(e,n).enter().append("path").attr("class","item"),h.selectAll("path.item").data(e,n).style("opacity",1).transition().duration(v).attrTween("d",function(e,n){if(void 0===this.__prev__){var t=x.interpolate(i(200),i(150));return this.__prev__=r(g.head+1-1+n),function(e){return x.svg.arc().startAngle(s(g.head+1-1+n)).endAngle(s(g.head+1-1+n+1))(t(e))}}var t=x.interpolate(this.__prev__,r(g.head+1-1+n));return this.__prev__=r(g.head+1-1+n),function(e){return a()(t(e))}}),h.selectAll("path.item").data(e,n).exit().style("opacity",1).transition().duration(v).style("opacity",0).remove(),f.selectAll("text.item").data(e,n).enter().append("text").attr("class","item").attr("dy",5).text(function(e){return e.v}),f.selectAll("text.item").data(e,n).style("opacity",1).transition().duration(v).attrTween("transform",function(e,n){if(void 0===this.__prev__){var t=x.interpolate(w().translate(a(50).centroid(r(g.head+1-1+n)))(),w().translate(a().centroid(r(g.head+1-1+n)))());this.__prev__=g.head+1-1+n}else{var t=x.interpolate(w().translate(a().centroid(r(this.__prev__)))(),w().translate(a().centroid(r(g.head+1-1+n)))());this.__prev__=g.head+1-1+n}return function(e){return t(e)}}),f.selectAll("text.item").data(e,n).exit().style("opacity",1).transition().duration(v).style("opacity",0).remove()}function l(){h.selectAll("path.toque").data(g.toque).enter().append("path").attr("class","toque"),h.selectAll("path.toque").data(g.toque).style("opacity",1).transition().duration(v).attrTween("d",function(e,n){if(void 0===this.__prev__){var t=x.interpolate(i(250),i(200));return this.__prev__=r(g.tail),function(e){return x.svg.arc().startAngle(s(g.tail)).endAngle(s(g.tail+1))(t(e))}}var t=x.interpolate(this.__prev__,r(g.tail));return this.__prev__=r(g.tail),function(e){return x.svg.arc().innerRadius(200).outerRadius(250)(t(e))}}),h.selectAll("path.toque").data(g.toque).exit().style("opacity",1).transition().duration(v).style("opacity",0).remove(),f.selectAll("text.toque").data(g.toque).enter().append("text").attr("class","toque").attr("dy",5).text(function(e){return e}),f.selectAll("text.toque").data(g.toque).style("opacity",1).transition().duration(v).attrTween("transform",function(e,n){if(void 0===this.__prev__){var t=x.interpolate(w().translate(x.svg.arc().innerRadius(250).outerRadius(300).centroid(r(g.tail)))(),w().translate(x.svg.arc().innerRadius(200).outerRadius(250).centroid(r(g.tail)))());this.__prev__=g.tail}else{var t=x.interpolate(w().translate(a(50).centroid(r(this.__prev__)))(),w().translate(a(50).centroid(r(g.tail)))());this.__prev__=g.tail}return function(e){return t(e)}}),f.selectAll("text.toque").data(g.toque).exit().style("opacity",1).transition().duration(v).style("opacity",0).remove()}function p(){h.selectAll("path.tofront").data(g.tofront).enter().append("path").attr("class","tofront"),h.selectAll("path.tofront").data(g.tofront).style("opacity",1).transition().duration(v).attrTween("d",function(e,n){if(void 0===this.__prev__){var t=x.interpolate(i(150),i(0));return this.__prev__=r(g.head),function(e){return x.svg.arc().startAngle(s(g.head)).endAngle(s(g.head+1))(t(e))}}var t=x.interpolate(this.__prev__,r(g.head));return this.__prev__=r(g.head),function(e){return x.svg.arc().innerRadius(0).outerRadius(50)(t(e))}}),h.selectAll("path.tofront").data(g.tofront).exit().style("opacity",1).transition().duration(v).style("opacity",0).remove(),f.selectAll("text.tofront").data(g.tofront).enter().append("text").attr("class","tofront").attr("dy",5).text(function(e){return e}),f.selectAll("text.tofront").data(g.tofront).style("opacity",1).transition().duration(v).attrTween("transform",function(e,n){if(void 0===this.__prev__){var t=x.interpolate(w().translate(x.svg.arc().innerRadius(150).outerRadius(200).centroid(r(g.head)))(),w().translate(x.svg.arc().innerRadius(0).outerRadius(50).centroid(r(g.head)))());this.__prev__=g.head}else{var t=x.interpolate(w().translate(a(-150).centroid(r(this.__prev__)))(),w().translate(a(-150).centroid(r(g.head)))());this.__prev__=g.head}return function(e){return t(e)}}),f.selectAll("text.tofront").data(g.tofront).exit().style("opacity",1).transition().duration(v).style("opacity",0).remove()}function u(e,n){g=e,v=n}function d(e,n){u(e,n),o(),c(),l(),p()}function m(){k=8;var e=this,n=x.behavior.zoom().scaleExtent([.1,10]).on("zoom",function(){e.svg.attr("transform",w().translate(x.event.translate).scale(x.event.scale))});this.svg=x.select(this.refs.svg.getDOMNode()).append("svg").call(n).append("g"),this.g=this.svg.append("g").attr("transform",w().translate(300,250).scale(1)),this.gbase=this.g.append("g").attr("class","base"),this.ghigh=this.g.append("g").attr("class","high"),this.gtext=this.g.append("g").attr("class","text"),this.gbase.append("path").attr("class","queue"),this.gbase.select("path.queue").transition().duration(this.props.delay/3).attrTween("d",function(e){var n=x.interpolate(r(0,0),r(0,k));return function(e){return a()(n(e))}}),h=this.gbase,f=this.gtext,y=this.ghigh}var h,f,y,g,v,g,v,k,x=t(4),w=t(8),_=150,b=200,E=2*Math.PI,z="deepskyblue";e.exports={init:m,render:d}}});